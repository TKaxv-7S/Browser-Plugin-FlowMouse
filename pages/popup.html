<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title data-i18n="extName">FlowMouse</title>
	<link rel="stylesheet" href="../css/common.css">
	<style>
		:root {
			--bg-secondary: rgba(255, 255, 255, 0.05);
		}

		[data-theme="light"] {
			--bg-secondary: rgba(0, 0, 0, 0.03);
			--text-primary: #333;
		}

		body {
			width: 280px;
			padding: 15px;
			min-height: auto;
		}

		.header {
			display: flex;
			align-items: center;
			gap: 10px;
			padding-bottom: 12px;
			border-bottom: 1px solid var(--border-color);
		}

		.header h1 {
			font-size: 16px;
			font-weight: 600;
		}

		.logo-small {
			width: 18px;
			height: 18px;
			border-radius: 4px;
		}

		.header .version {
			font-size: 11px;
			color: var(--text-secondary);
			background: var(--bg-secondary);
			padding: 2px 6px;
			border-radius: 4px;
		}

		.status-row {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 10px 0;
			border-bottom: 1px solid var(--border-color);
		}

		.status-label {
			font-size: 13px;
		}

		.gestures-info {
			background: var(--bg-secondary);
			border-radius: 8px;
			padding: 12px;
			margin: 15px 0;
			font-size: 12px;
		}

		.gestures-info h3 {
			font-size: 13px;
			margin-bottom: 8px;
			color: var(--accent-color);
		}

		.gesture-list {
			display: grid;
			grid-template-columns: 50px 1fr 50px 1fr;
			gap: 6px 4px;
			align-items: center;
		}

		.gesture-pattern {
			font-weight: bold;
			text-align: center;
		}

		.gesture-action {
			color: var(--text-secondary);
			font-size: 11px;
		}

		.actions {
			display: flex;
			gap: 8px;
			margin-top: 15px;
		}

		.btn {
			flex: 1;
			padding: 10px;
			font-size: 13px;
			border-radius: 6px;
		}

		.current-site {
			margin-top: 12px;
			padding-top: 12px;
			border-top: 1px solid var(--border-color);
			font-size: 12px;
			color: var(--text-secondary);
		}

		.current-site .domain {
			color: var(--text-primary);
			font-weight: 500;
		}

		.blacklisted {
			color: #ea4335;
		}

		.not-available {
			color: var(--text-secondary);
			font-style: italic;
		}

		.notice-box {
			display: none;
			background: var(--bg-secondary);
			border-radius: 8px;
			padding: 15px;
			margin: 15px 0;
			text-align: center;
		}

		.notice-box.show {
			display: block;
		}

		.notice-box .notice-icon {
			font-size: 28px;
			margin-bottom: 8px;
		}

		.notice-box .notice-title {
			font-size: 14px;
			font-weight: 600;
			margin-bottom: 6px;
		}

		.notice-box .notice-desc {
			font-size: 12px;
			color: var(--text-secondary);
			margin-bottom: 12px;
			line-height: 1.5;
		}

		.notice-box .btn {
			width: 100%;
		}

		.notice-box.warning .notice-icon {
			color: #f4b400;
		}

		.notice-box.error .notice-icon {
			color: #ea4335;
		}
	</style>
	<style id="i18n-load-style">
		[data-i18n], [data-i18n-placeholder], [data-i18n-title], select {
			visibility: hidden;
		}
	</style>
</head>

<body>
	<div class="header">
		<img src="../icons/icon48.png" class="logo-small" alt="Logo">
		<h1><span data-i18n="extNameShort">FlowMouse</span></h1>
		<span class="version version-from-manifest"></span>
	</div>

	<div class="status-row" id="trailRow">
		<span class="status-label" data-i18n="popupTrail">æ‰‹åŠ¿è½¨è¿¹</span>
		<label class="toggle">
			<input type="checkbox" id="enableTrail" checked>
			<span class="slider"></span>
		</label>
	</div>

	<div class="status-row" id="hudRow">
		<span class="status-label" data-i18n="popupHint">æ“ä½œæç¤º</span>
		<label class="toggle">
			<input type="checkbox" id="enableHUD" checked>
			<span class="slider"></span>
		</label>
	</div>

	<div class="gestures-info" id="gesturesInfo">
		<h3 data-i18n="popupCommonGestures">å¸¸ç”¨æ‰‹åŠ¿</h3>
		<div class="gesture-list">
			<span class="gesture-pattern">â†</span><span class="gesture-action" data-i18n="popupBack">è¿”å›</span>
			<span class="gesture-pattern">â†’</span><span class="gesture-action" data-i18n="popupForward">å‰è¿›</span>
			<span class="gesture-pattern">â†‘</span><span class="gesture-action" data-i18n="popupScrollUp">ä¸Šç¿»</span>
			<span class="gesture-pattern">â†“</span><span class="gesture-action" data-i18n="popupScrollDown">ä¸‹ç¿»</span>
			<span class="gesture-pattern">â†“â†’</span><span class="gesture-action" data-i18n="popupClose">å…³é—­</span>
			<span class="gesture-pattern">â†’â†</span><span class="gesture-action" data-i18n="popupRestore">æ¢å¤</span>
		</div>
	</div>

	<div class="notice-box warning" id="needRefreshNotice">
		<div class="notice-icon">âš ï¸</div>
		<div class="notice-title" data-i18n="popupNeedRefresh">æ‰©å±•ç¨‹åºæœªåŠ è½½</div>
		<div class="notice-desc" data-i18n="popupNeedRefreshDesc">æ­¤é¡µé¢åœ¨æ‰©å±•ç¨‹åºå®‰è£…/æ›´æ–°å‰å·²æ‰“å¼€ï¼Œéœ€è¦åˆ·æ–°æ‰èƒ½ä½¿ç”¨æ‰‹åŠ¿</div>
		<button class="btn btn-primary" id="refreshPageBtn" data-i18n="popupRefreshBtn">ğŸ”„ åˆ·æ–°é¡µé¢</button>
	</div>

	<div class="notice-box error" id="restrictedNotice">
		<div class="notice-icon">ğŸš«</div>
		<div class="notice-title" data-i18n="popupRestrictedTitle">æ— æ³•ä½¿ç”¨æ‰‹åŠ¿</div>
		<div class="notice-desc" data-i18n="popupRestrictedDesc">æ­¤é¡µé¢ç”±äºæµè§ˆå™¨å®‰å…¨é™åˆ¶ï¼Œæ‰©å±•ç¨‹åºæ— æ³•åŠ è½½</div>
		<button class="btn btn-secondary" id="learnMoreBtn" data-i18n="popupLearnMore">ğŸ“– äº†è§£è¯¦æƒ…</button>
	</div>

	<div class="current-site">
		<span data-i18n="popupCurrentSite">å½“å‰ç½‘ç«™</span>: <span class="domain" id="currentDomain">-</span>
		<span id="blacklistStatus"></span>
	</div>

	<div class="actions">
		<button class="btn btn-secondary" id="toggleBlacklist" data-i18n="popupAddBlacklist">åŠ å…¥é»‘åå•</button>
		<button class="btn btn-primary" id="openOptions" data-i18n="moreSettings">æ›´å¤šè®¾ç½®</button>
	</div>

	<script src="../js/i18n.js"></script>
	<script src="../js/constants.js"></script>
	<script src="../js/popup.js"></script>
</body>

</html>